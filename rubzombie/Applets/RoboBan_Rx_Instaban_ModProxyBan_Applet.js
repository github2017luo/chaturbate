javascript:/*** CB RoboBan Rx/Instaban/ModProxyBan ***/(function(){function g(b,a){function e(b){var c=window;b=b.split(".");var a,d=b.length;for(a=0;a<d;a++){if(void 0===c||!c.hasOwnProperty(b[a]))return null;c=c[b[a]]}return c}var c=b.split(".");b=c[c.length-1];var h=e(c[0]);c=e(c.slice(0,-1).join("."));if(h&&c&&c.hasOwnProperty(b)&&"function"===typeof c[b]){var d=c[b].RoboBan_orig;"function"!==typeof d&&(d=c[b]);c[b]=a;c[b].RoboBan_orig=d;c[b].RoboBan_root=h;return!0}return!1}var a,k=/^(?:RoboBan\x20Rx:ban:|(?:\ud83c\udd78\ud83c\udd7d\ud83c\udd82\ud83c\udd83\ud83c\udd70|([a-z0-9_]+)\x20\ud83c\udd7c\ud83c\udd7e\ud83c\udd73\x20\ud83c\udd7f\ud83c\udd81\ud83c\udd7e\ud83c\udd87\ud83c\udd88)\x20\ud83c\udd71\ud83c\udd70\ud83c\udd7d\x20)([a-z0-9_]+)$/;
if(/(camgasm|chaturbate)\.com$/i.test(document.location.hostname)&&window.hasOwnProperty("defchat_settings")&&window.defchat_settings.hasOwnProperty("is_broadcasting")&&window.defchat_settings.is_broadcasting)if((a=window.defchat_settings.handler)&&a.message_inbound.notify&&a.message_inbound.notify.RoboBan_orig&&a.message_inbound.notify!==a.message_inbound.notify.RoboBan_orig)a.message_inbound.notify=a.message_inbound.notify.RoboBan_orig,window.alert("RoboBan de-activated.");else{var d=function(b,
f){(b=k.exec(f))&&b[2]!==a.room_owner_jid&&(b[1]&&$.add_system_message(b[1]+" is Mod Proxy Banning "+b[2]),a.message_outbound.send_kickban_user(b[2]),b=a.get_account_name(b[2]),b=window.defchat_settings.ban_url.replace("USERNAMESLUG",b),$.post(b,{foo:"bar"}),d.done=!0)};a===window.flash_handler&&g("flash_handler.message_inbound.notify",function f(){var a=f.RoboBan_root.sanitize(arguments[0]),c=null;d.done=!1;var h=f.RoboBan_root.room_owner_jid;try{c=$.parseJSON(a)}catch(m){}return"appnotice"===c.type&&
c.to_user&&c.to_user===h&&($.each(c.msg,d),d.done)?void 0:f.RoboBan_orig.apply(null,arguments)})?window.alert("RoboBan activated."):a===window.ws_handler&&g("ws_handler.message_inbound.notify",function e(){var c=e.RoboBan_root.sanitize(arguments[0]),a=null;d.done=!1;var g=e.RoboBan_root.room_owner_jid;try{a=$.parseJSON(c)}catch(l){}return"appnotice"===a.type&&a.to_user&&a.to_user===g&&($.each(a.msg,d),d.done)?void 0:e.RoboBan_orig.apply(null,arguments)})&&window.alert("RoboBan activated.")}else window.alert("*chaturbate.com broadcast only bookmarklet")})();
